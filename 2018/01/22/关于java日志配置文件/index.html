<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>关于java日志配置文件 | John Cash</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="################################################################################ #①配置根Logger，其语法为： # #log4j.rootLogger = [level],appenderName,appenderName2,… #level是日志记录的优先级，分为OFF,TRACE,DEBUG,INFO,WAR">
<meta property="og:type" content="article">
<meta property="og:title" content="关于java日志配置文件">
<meta property="og:url" content="http://johncash.com/2018/01/22/关于java日志配置文件/index.html">
<meta property="og:site_name" content="John Cash">
<meta property="og:description" content="################################################################################ #①配置根Logger，其语法为： # #log4j.rootLogger = [level],appenderName,appenderName2,… #level是日志记录的优先级，分为OFF,TRACE,DEBUG,INFO,WAR">
<meta property="og:updated_time" content="2018-01-22T13:37:05.156Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于java日志配置文件">
<meta name="twitter:description" content="################################################################################ #①配置根Logger，其语法为： # #log4j.rootLogger = [level],appenderName,appenderName2,… #level是日志记录的优先级，分为OFF,TRACE,DEBUG,INFO,WAR">
  
    <link rel="alternate" href="/atom.xml" title="John Cash" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">John Cash</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">nerds of CS</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://johncash.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-关于java日志配置文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/22/关于java日志配置文件/" class="article-date">
  <time datetime="2018-01-22T13:36:28.000Z" itemprop="datePublished">2018-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      关于java日志配置文件
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>################################################################################</p>
<p>#①配置根Logger，其语法为：</p>
<p>#</p>
<p>#log4j.rootLogger = [level],appenderName,appenderName2,…</p>
<p>#level是日志记录的优先级，分为OFF,TRACE,DEBUG,INFO,WARN,ERROR,FATAL,ALL</p>
<p>##Log4j建议只使用四个级别，优先级从低到高分别是DEBUG,INFO,WARN,ERROR</p>
<p>#通过在这里定义的级别，您可以控制到应用程序中相应级别的日志信息的开关</p>
<p>#比如在这里定义了INFO级别，则应用程序中所有DEBUG级别的日志信息将不被打印出来</p>
<p>#appenderName就是指定日志信息输出到哪个地方。可同时指定多个输出目的</p>
<p>################################################################################</p>
<p>################################################################################</p>
<p>#②配置日志信息输出目的地Appender，其语法为：</p>
<p>#</p>
<p>#log4j.appender.appenderName = fully.qualified.name.of.appender.class</p>
<p>#log4j.appender.appenderName.optionN = valueN</p>
<p>#</p>
<p>#Log4j提供的appender有以下几种：</p>
<p>#1)org.apache.log4j.ConsoleAppender(输出到控制台)</p>
<p>#2)org.apache.log4j.FileAppender(输出到文件)</p>
<p>#3)org.apache.log4j.DailyRollingFileAppender(每天产生一个日志文件)</p>
<p>#4)org.apache.log4j.RollingFileAppender(文件大小到达指定尺寸的时候产生一个新的文件)</p>
<p>#5)org.apache.log4j.WriterAppender(将日志信息以流格式发送到任意指定的地方)</p>
<p>#</p>
<p>#1)ConsoleAppender选项属性</p>
<h1 id="Threshold-DEBUG-指定日志消息的输出最低层次"><a href="#Threshold-DEBUG-指定日志消息的输出最低层次" class="headerlink" title="-Threshold = DEBUG:指定日志消息的输出最低层次"></a>-Threshold = DEBUG:指定日志消息的输出最低层次</h1><h1 id="ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出"><a href="#ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出" class="headerlink" title="-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出"></a>-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出</h1><h1 id="Target-System-err-默认值System-out-输出到控制台-err为红色-out为黑色"><a href="#Target-System-err-默认值System-out-输出到控制台-err为红色-out为黑色" class="headerlink" title="-Target = System.err:默认值System.out,输出到控制台(err为红色,out为黑色)"></a>-Target = System.err:默认值System.out,输出到控制台(err为红色,out为黑色)</h1><p>#</p>
<p>#2)FileAppender选项属性</p>
<h1 id="Threshold-INFO-指定日志消息的输出最低层次"><a href="#Threshold-INFO-指定日志消息的输出最低层次" class="headerlink" title="-Threshold = INFO:指定日志消息的输出最低层次"></a>-Threshold = INFO:指定日志消息的输出最低层次</h1><h1 id="ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-1"><a href="#ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-1" class="headerlink" title="-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出"></a>-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出</h1><h1 id="File-C-log4j-log-指定消息输出到C-log4j-log文件"><a href="#File-C-log4j-log-指定消息输出到C-log4j-log文件" class="headerlink" title="-File = C:\log4j.log:指定消息输出到C:\log4j.log文件"></a>-File = C:\log4j.log:指定消息输出到C:\log4j.log文件</h1><h1 id="Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容"><a href="#Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容" class="headerlink" title="-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容"></a>-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容</h1><h1 id="Encoding-UTF-8-可以指定文件编码格式"><a href="#Encoding-UTF-8-可以指定文件编码格式" class="headerlink" title="-Encoding = UTF-8:可以指定文件编码格式"></a>-Encoding = UTF-8:可以指定文件编码格式</h1><p>#</p>
<p>#3)DailyRollingFileAppender选项属性</p>
<h1 id="Threshold-WARN-指定日志消息的输出最低层次"><a href="#Threshold-WARN-指定日志消息的输出最低层次" class="headerlink" title="-Threshold = WARN:指定日志消息的输出最低层次"></a>-Threshold = WARN:指定日志消息的输出最低层次</h1><h1 id="ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-2"><a href="#ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-2" class="headerlink" title="-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出"></a>-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出</h1><h1 id="File-C-log4j-log-指定消息输出到C-log4j-log文件-1"><a href="#File-C-log4j-log-指定消息输出到C-log4j-log文件-1" class="headerlink" title="-File = C:\log4j.log:指定消息输出到C:\log4j.log文件"></a>-File = C:\log4j.log:指定消息输出到C:\log4j.log文件</h1><h1 id="Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容-1"><a href="#Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容-1" class="headerlink" title="-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容"></a>-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容</h1><h1 id="DatePattern-’-’yyyy-ww-每周滚动一次文件-即每周产生一个新的文件。还可以按用以下参数"><a href="#DatePattern-’-’yyyy-ww-每周滚动一次文件-即每周产生一个新的文件。还可以按用以下参数" class="headerlink" title="-DatePattern=’.’yyyy-ww:每周滚动一次文件,即每周产生一个新的文件。还可以按用以下参数:"></a>-DatePattern=’.’yyyy-ww:每周滚动一次文件,即每周产生一个新的文件。还可以按用以下参数:</h1><h1 id="‘-’yyyy-MM-每月"><a href="#‘-’yyyy-MM-每月" class="headerlink" title="‘.’yyyy-MM:每月"></a>‘.’yyyy-MM:每月</h1><h1 id="‘-’yyyy-ww-每周"><a href="#‘-’yyyy-ww-每周" class="headerlink" title="‘.’yyyy-ww:每周"></a>‘.’yyyy-ww:每周</h1><h1 id="‘-’yyyy-MM-dd-每天"><a href="#‘-’yyyy-MM-dd-每天" class="headerlink" title="‘.’yyyy-MM-dd:每天"></a>‘.’yyyy-MM-dd:每天</h1><h1 id="‘-’yyyy-MM-dd-a-每天两次"><a href="#‘-’yyyy-MM-dd-a-每天两次" class="headerlink" title="‘.’yyyy-MM-dd-a:每天两次"></a>‘.’yyyy-MM-dd-a:每天两次</h1><h1 id="‘-’yyyy-MM-dd-HH-每小时"><a href="#‘-’yyyy-MM-dd-HH-每小时" class="headerlink" title="‘.’yyyy-MM-dd-HH:每小时"></a>‘.’yyyy-MM-dd-HH:每小时</h1><h1 id="‘-’yyyy-MM-dd-HH-mm-每分钟"><a href="#‘-’yyyy-MM-dd-HH-mm-每分钟" class="headerlink" title="‘.’yyyy-MM-dd-HH-mm:每分钟"></a>‘.’yyyy-MM-dd-HH-mm:每分钟</h1><h1 id="Encoding-UTF-8-可以指定文件编码格式-1"><a href="#Encoding-UTF-8-可以指定文件编码格式-1" class="headerlink" title="-Encoding = UTF-8:可以指定文件编码格式"></a>-Encoding = UTF-8:可以指定文件编码格式</h1><p>#</p>
<p>#4)RollingFileAppender选项属性</p>
<h1 id="Threshold-ERROR-指定日志消息的输出最低层次"><a href="#Threshold-ERROR-指定日志消息的输出最低层次" class="headerlink" title="-Threshold = ERROR:指定日志消息的输出最低层次"></a>-Threshold = ERROR:指定日志消息的输出最低层次</h1><h1 id="ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-3"><a href="#ImmediateFlush-TRUE-默认值是true-所有的消息都会被立即输出-3" class="headerlink" title="-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出"></a>-ImmediateFlush = TRUE:默认值是true,所有的消息都会被立即输出</h1><h1 id="File-C-log4j-log-指定消息输出到C-log4j-log文件-2"><a href="#File-C-log4j-log-指定消息输出到C-log4j-log文件-2" class="headerlink" title="-File = C:/log4j.log:指定消息输出到C:/log4j.log文件"></a>-File = C:/log4j.log:指定消息输出到C:/log4j.log文件</h1><h1 id="Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容-2"><a href="#Append-FALSE-默认值true-将消息追加到指定文件中，false指将消息覆盖指定的文件内容-2" class="headerlink" title="-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容"></a>-Append = FALSE:默认值true,将消息追加到指定文件中，false指将消息覆盖指定的文件内容</h1><h1 id="MaxFileSize-100KB-后缀可以是KB-MB-GB-在日志文件到达该大小时-将会自动滚动-如-log4j-log-1"><a href="#MaxFileSize-100KB-后缀可以是KB-MB-GB-在日志文件到达该大小时-将会自动滚动-如-log4j-log-1" class="headerlink" title="-MaxFileSize = 100KB:后缀可以是KB,MB,GB.在日志文件到达该大小时,将会自动滚动.如:log4j.log.1"></a>-MaxFileSize = 100KB:后缀可以是KB,MB,GB.在日志文件到达该大小时,将会自动滚动.如:log4j.log.1</h1><h1 id="MaxBackupIndex-2-指定可以产生的滚动文件的最大数"><a href="#MaxBackupIndex-2-指定可以产生的滚动文件的最大数" class="headerlink" title="-MaxBackupIndex = 2:指定可以产生的滚动文件的最大数"></a>-MaxBackupIndex = 2:指定可以产生的滚动文件的最大数</h1><h1 id="Encoding-UTF-8-可以指定文件编码格式-2"><a href="#Encoding-UTF-8-可以指定文件编码格式-2" class="headerlink" title="-Encoding = UTF-8:可以指定文件编码格式"></a>-Encoding = UTF-8:可以指定文件编码格式</h1><p>################################################################################</p>
<p>################################################################################</p>
<p>#③配置日志信息的格式(布局)，其语法为：<br>#</p>
<p>#log4j.appender.appenderName.layout = fully.qualified.name.of.layout.class</p>
<p>#log4j.appender.appenderName.layout.optionN = valueN<br>#</p>
<p>#Log4j提供的layout有以下几种：</p>
<p>#5)org.apache.log4j.HTMLLayout(以HTML表格形式布局)</p>
<p>#6)org.apache.log4j.PatternLayout(可以灵活地指定布局模式)</p>
<p>#7)org.apache.log4j.SimpleLayout(包含日志信息的级别和信息字符串)</p>
<p>#8)org.apache.log4j.TTCCLayout(包含日志产生的时间、线程、类别等等信息)</p>
<p>#9)org.apache.log4j.xml.XMLLayout(以XML形式布局)<br>#</p>
<p>#5)HTMLLayout选项属性</p>
<h1 id="LocationInfo-TRUE-默认值false-输出java文件名称和行号"><a href="#LocationInfo-TRUE-默认值false-输出java文件名称和行号" class="headerlink" title="-LocationInfo = TRUE:默认值false,输出java文件名称和行号"></a>-LocationInfo = TRUE:默认值false,输出java文件名称和行号</h1><h1 id="Title-Struts-Log-Message-默认值-Log4J"><a href="#Title-Struts-Log-Message-默认值-Log4J" class="headerlink" title="-Title=Struts Log Message:默认值 Log4J"></a>-Title=Struts Log Message:默认值 Log4J</h1><p>Log Messages<br>#</p>
<p>#6)PatternLayout选项属性</p>
<h1 id="ConversionPattern-m-n-格式化指定的消息-参数意思下面有"><a href="#ConversionPattern-m-n-格式化指定的消息-参数意思下面有" class="headerlink" title="-ConversionPattern = %m%n:格式化指定的消息(参数意思下面有)"></a>-ConversionPattern = %m%n:格式化指定的消息(参数意思下面有)</h1><p>#</p>
<p>#9)XMLLayout选项属性</p>
<h1 id="LocationInfo-TRUE-默认值false-输出java文件名称和行号-1"><a href="#LocationInfo-TRUE-默认值false-输出java文件名称和行号-1" class="headerlink" title="-LocationInfo = TRUE:默认值false,输出java文件名称和行号"></a>-LocationInfo = TRUE:默认值false,输出java文件名称和行号</h1><p>#</p>
<p>#Log4J采用类似C语言中的printf函数的打印格式格式化日志信息，打印参数如下：</p>
<h1 id="m-输出代码中指定的消息"><a href="#m-输出代码中指定的消息" class="headerlink" title="%m 输出代码中指定的消息"></a>%m 输出代码中指定的消息</h1><h1 id="p-输出优先级，即DEBUG-INFO-WARN-ERROR-FATAL"><a href="#p-输出优先级，即DEBUG-INFO-WARN-ERROR-FATAL" class="headerlink" title="%p 输出优先级，即DEBUG,INFO,WARN,ERROR,FATAL"></a>%p 输出优先级，即DEBUG,INFO,WARN,ERROR,FATAL</h1><h1 id="r-输出自应用启动到输出该log信息耗费的毫秒数"><a href="#r-输出自应用启动到输出该log信息耗费的毫秒数" class="headerlink" title="%r 输出自应用启动到输出该log信息耗费的毫秒数"></a>%r 输出自应用启动到输出该log信息耗费的毫秒数</h1><h1 id="c-输出所属的类目-通常就是所在类的全名"><a href="#c-输出所属的类目-通常就是所在类的全名" class="headerlink" title="%c 输出所属的类目,通常就是所在类的全名"></a>%c 输出所属的类目,通常就是所在类的全名</h1><h1 id="t-输出产生该日志事件的线程名"><a href="#t-输出产生该日志事件的线程名" class="headerlink" title="%t 输出产生该日志事件的线程名"></a>%t 输出产生该日志事件的线程名</h1><h1 id="n-输出一个回车换行符，Windows平台为“-r-n”，Unix平台为“-n”"><a href="#n-输出一个回车换行符，Windows平台为“-r-n”，Unix平台为“-n”" class="headerlink" title="%n 输出一个回车换行符，Windows平台为“\r\n”，Unix平台为“\n”"></a>%n 输出一个回车换行符，Windows平台为“\r\n”，Unix平台为“\n”</h1><h1 id="d-输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式"><a href="#d-输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式" class="headerlink" title="%d 输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式"></a>%d 输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式</h1><h1 id="如：-d-yyyy年MM月dd日"><a href="#如：-d-yyyy年MM月dd日" class="headerlink" title="如：%d{yyyy年MM月dd日"></a>如：%d{yyyy年MM月dd日</h1><p>HH:mm:ss,SSS}，输出类似：2012年01月05日 22:10:28,921</p>
<h1 id="l-输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数"><a href="#l-输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数" class="headerlink" title="%l 输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数"></a>%l 输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数</h1><h1 id="如：Testlog-main-TestLog-java-10"><a href="#如：Testlog-main-TestLog-java-10" class="headerlink" title="如：Testlog.main(TestLog.java:10)"></a>如：Testlog.main(TestLog.java:10)</h1><h1 id="F-输出日志消息产生时所在的文件名称"><a href="#F-输出日志消息产生时所在的文件名称" class="headerlink" title="%F 输出日志消息产生时所在的文件名称"></a>%F 输出日志消息产生时所在的文件名称</h1><h1 id="L-输出代码中的行号"><a href="#L-输出代码中的行号" class="headerlink" title="%L 输出代码中的行号"></a>%L 输出代码中的行号</h1><h1 id="x-输出和当前线程相关联的NDC-嵌套诊断环境-像java"><a href="#x-输出和当前线程相关联的NDC-嵌套诊断环境-像java" class="headerlink" title="%x 输出和当前线程相关联的NDC(嵌套诊断环境),像java"></a>%x 输出和当前线程相关联的NDC(嵌套诊断环境),像java</h1><p>servlets多客户多线程的应用中</p>
<h1 id="输出一个”-”字符"><a href="#输出一个”-”字符" class="headerlink" title="%% 输出一个”%”字符"></a>%% 输出一个”%”字符</h1><p>#</p>
<h1 id="可以在-与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如："><a href="#可以在-与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如：" class="headerlink" title="可以在%与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如："></a>可以在%与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如：</h1><h1 id="5c-输出category名称，最小宽度是5，category-lt-5，默认的情况下右对齐"><a href="#5c-输出category名称，最小宽度是5，category-lt-5，默认的情况下右对齐" class="headerlink" title="%5c: 输出category名称，最小宽度是5，category&lt;5，默认的情况下右对齐"></a>%5c: 输出category名称，最小宽度是5，category&lt;5，默认的情况下右对齐</h1><h1 id="5c-输出category名称，最小宽度是5，category-lt-5，”-“号指定左对齐-会有空格"><a href="#5c-输出category名称，最小宽度是5，category-lt-5，”-“号指定左对齐-会有空格" class="headerlink" title="%-5c:输出category名称，最小宽度是5，category&lt;5，”-“号指定左对齐,会有空格"></a>%-5c:输出category名称，最小宽度是5，category&lt;5，”-“号指定左对齐,会有空格</h1><h1 id="5c-输出category名称，最大宽度是5，category-gt-5，就会将左边多出的字符截掉，-lt-5不会有空格"><a href="#5c-输出category名称，最大宽度是5，category-gt-5，就会将左边多出的字符截掉，-lt-5不会有空格" class="headerlink" title="%.5c:输出category名称，最大宽度是5，category&gt;5，就会将左边多出的字符截掉，&lt;5不会有空格"></a>%.5c:输出category名称，最大宽度是5，category&gt;5，就会将左边多出的字符截掉，&lt;5不会有空格</h1><h1 id="20-30c-category名称30字符，就从左边交远销出的字符截掉"><a href="#20-30c-category名称30字符，就从左边交远销出的字符截掉" class="headerlink" title="%20.30c:category名称30字符，就从左边交远销出的字符截掉"></a>%20.30c:category名称<20补空格，并且右对齐，>30字符，就从左边交远销出的字符截掉</20补空格，并且右对齐，></h1><p>################################################################################</p>
<p>################################################################################</p>
<p>#④指定特定包的输出特定的级别</p>
<p>#log4j.logger.org.springframework=DEBUG</p>
<p>################################################################################</p>
<p>#OFF,systemOut,logFile,logDailyFile,logRollingFile,logMail,logDB,ALL<br>log4j.rootLogger =ALL,systemOut,logFile,logDailyFile,logRollingFile,logMail,logDB</p>
<p>#输出到控制台<br>log4j.appender.systemOut = org.apache.log4j.ConsoleAppender<br>log4j.appender.systemOut.layout = org.apache.log4j.PatternLayout<br>log4j.appender.systemOut.layout.ConversionPattern = [%-5p][%-22d{yyyy/MM/dd HH:mm:ssS}][%l]%n%m%n<br>log4j.appender.systemOut.Threshold = DEBUG<br>log4j.appender.systemOut.ImmediateFlush = TRUE<br>log4j.appender.systemOut.Target = System.out</p>
<p>#输出到文件<br>log4j.appender.logFile = org.apache.log4j.FileAppender<br>log4j.appender.logFile.layout = org.apache.log4j.PatternLayout<br>log4j.appender.logFile.layout.ConversionPattern = [%-5p][%-22d{yyyy/MM/dd HH:mm:ssS}][%l]%n%m%n<br>log4j.appender.logFile.Threshold = DEBUG<br>log4j.appender.logFile.ImmediateFlush = TRUE<br>log4j.appender.logFile.Append = TRUE<br>log4j.appender.logFile.File = ../Struts2/WebRoot/log/File/log4j_Struts.log<br>log4j.appender.logFile.Encoding = UTF-8</p>
<p>#按DatePattern输出到文件<br>log4j.appender.logDailyFile = org.apache.log4j.DailyRollingFileAppender<br>log4j.appender.logDailyFile.layout = org.apache.log4j.PatternLayout<br>log4j.appender.logDailyFile.layout.ConversionPattern = [%-5p][%-22d{yyyy/MM/dd HH:mm:ssS}][%l]%n%m%n<br>log4j.appender.logDailyFile.Threshold = DEBUG<br>log4j.appender.logDailyFile.ImmediateFlush = TRUE<br>log4j.appender.logDailyFile.Append = TRUE<br>log4j.appender.logDailyFile.File = ../Struts2/WebRoot/log/DailyFile/log4j_Struts<br>log4j.appender.logDailyFile.DatePattern = ‘.’yyyy-MM-dd-HH-mm’.log’<br>log4j.appender.logDailyFile.Encoding = UTF-8</p>
<p>#设定文件大小输出到文件<br>log4j.appender.logRollingFile = org.apache.log4j.RollingFileAppender<br>log4j.appender.logRollingFile.layout = org.apache.log4j.PatternLayout<br>log4j.appender.logRollingFile.layout.ConversionPattern = [%-5p][%-22d{yyyy/MM/dd HH:mm:ssS}][%l]%n%m%n<br>log4j.appender.logRollingFile.Threshold = DEBUG<br>log4j.appender.logRollingFile.ImmediateFlush = TRUE<br>log4j.appender.logRollingFile.Append = TRUE<br>log4j.appender.logRollingFile.File = ../Struts2/WebRoot/log/RollingFile/log4j_Struts.log<br>log4j.appender.logRollingFile.MaxFileSize = 1MB<br>log4j.appender.logRollingFile.MaxBackupIndex = 10<br>log4j.appender.logRollingFile.Encoding = UTF-8</p>
<p>#用Email发送日志<br>log4j.appender.logMail = org.apache.log4j.net.SMTPAppender<br>log4j.appender.logMail.layout = org.apache.log4j.HTMLLayout<br>log4j.appender.logMail.layout.LocationInfo = TRUE<br>log4j.appender.logMail.layout.Title = Struts2 Mail LogFile<br>log4j.appender.logMail.Threshold = DEBUG<br>log4j.appender.logMail.SMTPDebug = FALSE<br>log4j.appender.logMail.SMTPHost = SMTP.163.com<br>log4j.appender.logMail.From = xly3000@163.com<br>log4j.appender.logMail.To = xly3000@gmail.com</p>
<p>#log4j.appender.logMail.Cc = xly3000@gmail.com</p>
<p>#log4j.appender.logMail.Bcc = xly3000@gmail.com<br>log4j.appender.logMail.SMTPUsername = xly3000<br>log4j.appender.logMail.SMTPPassword = 1234567<br>log4j.appender.logMail.Subject = Log4j Log Messages</p>
<p>#log4j.appender.logMail.BufferSize = 1024</p>
<p>#log4j.appender.logMail.SMTPAuth = TRUE</p>
<p>#将日志登录到MySQL数据库<br>log4j.appender.logDB = org.apache.log4j.jdbc.JDBCAppender<br>log4j.appender.logDB.layout = org.apache.log4j.PatternLayout<br>log4j.appender.logDB.Driver = com.mysql.jdbc.Driver<br>log4j.appender.logDB.URL = jdbc:mysql://127.0.0.1:3306/xly<br>log4j.appender.logDB.User = root<br>log4j.appender.logDB.Password = 123456<br>log4j.appender.logDB.Sql = INSERT INTOT_log4j(project_name,create_date,level,category,file_name,thread_name,line,all_category,message)values(‘Struts2’,’%d{yyyy-MM-ddHH:mm:ss}’,’%p’,’%c’,’%F’,’%t’,’%L’,’%l’,’%m’)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://johncash.com/2018/01/22/关于java日志配置文件/" data-id="cjcq9c6s30001lmckuvrt4236" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2017/12/17/keras入门-一/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">keras入门(一)</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/22/关于java日志配置文件/">关于java日志配置文件</a>
          </li>
        
          <li>
            <a href="/2017/12/17/keras入门-一/">keras入门(一)</a>
          </li>
        
          <li>
            <a href="/2017/07/13/javaweb-servlet/">javaweb-servlet</a>
          </li>
        
          <li>
            <a href="/2017/07/07/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Cash<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>